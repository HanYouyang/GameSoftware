# 1-打砖块-1
用浏览器和js写游戏，图片加载必须用火狐开发者版本浏览器。

## 0430画挡板
在任意网站上面截图获得一块长型图片，起名paddle.png，像素大小自行调整，记得在调整图片前保留原始文件起名ori-paddle.png。

js自带的图片加载工具就是canvas，加载canvas在浏览器里面，设置宽高400*300。

选中canvas框引为变量名，选中context引为变量名。
/找资料一定要找MDN

直接复制模式代码，获得Img类，设定src属性，用context.drawImage选定图片变量和位置画图。
/用log出来内容
-debug 需要用onload函数，浏览器内部放入图片用drawImage，可用火狐开发版本替代从而避免跨域提醒。

在head内部加入style标签，加入canvas设置css边框。


## 1412设置移动事件
window.addEventListener设置keydown事件，先log看事件是否绑定成功。

用变量k获取事件的key，用以if/else判断key的内容，回头设置全局变量x和y，让x随着a增大d减小，clearRect清空画布，drawImage画上修改后的x。
/游戏的套路就是根据事件每帧先update参数再clear画布再draw参数和元素

按键方法每秒钟只能出发十几次，让我们看到刷新过程有抖动和锯齿，应该达到每秒六十次。


## 2021设置定时器自动刷新
设置leftDown和rightDown变量作为按键响应的开关True/False，而后使用setIntervalu设置定时器判断状态从而改变x和y。
-debug 设置keyup事件调回开关开关True/False

增加刷新速度后，因为刷新速度而原先运动速度较快，设置速度为变量speed调小。
/从上写到下的就是0分代码，最外层只能有函数不能有变量+程序入口只能有main函数
/总有更好的结果，不可能上来就很厉害，当年想学习好的代码也不能循序渐进

## 2840修改函数只有一个入口
定义_main()函数
/强制写在内部函数的代码也可以复制粘贴就是0分代码

拆分函数：

1. 把paddle相关放在一起
2. 事件处理包起来
3. setInterval

（工厂模式）
/注意修改代码的时候一定是先复制新的修改、注释旧代码、确认运行无误再删除旧代码
设置Paddle函数，获取路径后返回一个对象包含图片变量及相关参数x，y和speed。
/对象最后一个属性一定要加逗号，方便复制粘贴
设置imageFromPath函数，打包获得路径过程。

根据Paddle函数设置返回值paddle，即可在程序主体中调用paddle作为对象的图片和各种参数，相应改变所有setInterval里面调用的各种变量加上paddle.前缀。
/代码就是写一点改一点

paddle移动的逻辑就是加减x坐标应该放在paddle里面调用函数，moveLeft和moveRight。
/函数不返回值的命名是动词开头
此时定义Paddle中函数用建立返回值o的函数来做，这叫做**模块化**。

## 4342继续封装
整体呈一个和paddle无关的内容，建立GuaGame类，放进去画布。
在game里面要有setInterval来自动调用update和draw，但是这两个函数可以仅仅保留名字，回到_main中写出来两个函数game.update = function(){//内容}。
/凡是不能是what的how就必须要封装出来


## 5005注册事件
GuaGame分类events和timer（setInterval）。keydown和keyup两个操作出发keydowns建立对象和true和false。
g.registerAction里面注册actions对象的key/callback键值对。
timer里面也加入events，需要完成actions的遍历内容，判断g.keydowns[action]为true，就调用g.actions![action]()
g.update的moveLeft/Right被注册两个事件监听自动调用而替代，当然将来的发射物体每帧移动需要update。
g.draw内部写出g.drawImage，GuaGame里面详细写出context.drwaImage()相当于每帧画图片什么。


## 6030发射球
复制粘贴制作出来一个Ball类，update里面相应有ball.move()，draw里面相应有game.drawImage(ball)。
注册f键和ball里面的fire()，增加o的属性fired用以开关move动作的操作。
给出speedX和speedY，速度边界取反，坐标+=速度。

## 7011矩形相交判断
game.update里面写上paddle.collide(ball)判断，如果true下面就改变方向。
Paddle里面加上image又加上image对

## 本节最终代码结构
`javascript



`

